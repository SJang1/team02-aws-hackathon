<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– AWS AI Helper</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { color: #232f3e; margin-bottom: 10px; }
        .header p { color: #666; }
        
        .form-section { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .form-section h2 { color: #232f3e; margin-bottom: 20px; border-bottom: 2px solid #ff9900; padding-bottom: 10px; }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        .form-group select, .form-group input, .form-group textarea { 
            width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; 
        }
        .form-group textarea { min-height: 120px; resize: vertical; }
        
        .checkbox-group { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input[type="checkbox"] { margin-right: 8px; }
        
        .tech-stack { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; }
        
        .btn { background: #ff9900; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; font-weight: 600; width: 100%; }
        .btn:hover { background: #e88900; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
        
        .results { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: none; }
        .prompt-output { background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #ff9900; }
        .prompt-text { font-family: 'Courier New', monospace; white-space: pre-wrap; line-height: 1.6; }
        
        .loading { text-align: center; padding: 40px; }
        .copy-btn { background: #28a745; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px; }
        .copy-btn:hover { background: #218838; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– AWS AI Helper</h1>
            <p>AI ê¸°ë°˜ ë§ì¶¤í˜• AWS ì„œë¹„ìŠ¤ ì¶”ì²œì„ ìœ„í•œ í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°</p>
        </div>

        <form id="promptForm">
            <!-- ê¸°ë³¸ ì •ë³´ -->
            <div class="form-section">
                <h2>ğŸ“‹ ê¸°ë³¸ ì •ë³´</h2>
                
                <div class="form-group">
                    <label for="projectType">í”„ë¡œì íŠ¸ ìœ í˜•</label>
                    <select id="projectType" required>
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="web_service">ì›¹ ì„œë¹„ìŠ¤</option>
                        <option value="mobile_app">ëª¨ë°”ì¼ ì•±</option>
                        <option value="game">ê²Œì„</option>
                        <option value="api">API ì„œë¹„ìŠ¤</option>
                        <option value="ml_ai">ML/AI ì„œë¹„ìŠ¤</option>
                        <option value="iot">IoT ì„œë¹„ìŠ¤</option>
                        <option value="blog">ë¸”ë¡œê·¸/CMS</option>
                        <option value="ecommerce">ì´ì»¤ë¨¸ìŠ¤</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="expectedUsers">ì˜ˆìƒ ì‚¬ìš©ì ìˆ˜ (ì¼ì¼)</label>
                    <input type="number" id="expectedUsers" min="1" max="10000000" value="100" required>
                </div>

                <div class="form-group">
                    <label for="budget">ì›” ì˜ˆì‚° (USD)</label>
                    <input type="number" id="budget" min="10" max="50000" value="100" step="10" required>
                </div>

                <div class="form-group">
                    <label for="region">ì„ í˜¸ AWS ë¦¬ì „</label>
                    <select id="region" required>
                        <option value="ap-northeast-2">ì•„ì‹œì•„ íƒœí‰ì–‘ (ì„œìš¸)</option>
                        <option value="us-east-1">ë¯¸êµ­ ë™ë¶€ (ë²„ì§€ë‹ˆì•„)</option>
                        <option value="us-west-2">ë¯¸êµ­ ì„œë¶€ (ì˜¤ë ˆê³¤)</option>
                        <option value="ap-northeast-1">ì•„ì‹œì•„ íƒœí‰ì–‘ (ë„ì¿„)</option>
                        <option value="eu-west-1">ìœ ëŸ½ (ì•„ì¼ëœë“œ)</option>
                        <option value="eu-central-1">ìœ ëŸ½ (í”„ë‘í¬í‘¸ë¥´íŠ¸)</option>
                    </select>
                </div>
            </div>

            <!-- ê¸°ìˆ  ìŠ¤íƒ -->
            <div class="form-section">
                <h2>ğŸ’» ê¸°ìˆ  ìŠ¤íƒ</h2>
                <div class="tech-stack">
                    <div class="checkbox-item">
                        <input type="checkbox" id="python" name="tech_stack" value="Python">
                        <label for="python">Python</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="nodejs" name="tech_stack" value="Node.js">
                        <label for="nodejs">Node.js</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="react" name="tech_stack" value="React">
                        <label for="react">React</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="vue" name="tech_stack" value="Vue.js">
                        <label for="vue">Vue.js</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="java" name="tech_stack" value="Java">
                        <label for="java">Java</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="dotnet" name="tech_stack" value=".NET">
                        <label for="dotnet">.NET</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="php" name="tech_stack" value="PHP">
                        <label for="php">PHP</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="unity" name="tech_stack" value="Unity">
                        <label for="unity">Unity</label>
                    </div>
                </div>
            </div>

            <!-- ìš”êµ¬ì‚¬í•­ -->
            <div class="form-section">
                <h2>âš™ï¸ ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­</h2>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsDatabase">
                        <label for="needsDatabase">ë°ì´í„°ë² ì´ìŠ¤ í•„ìš”</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsRealtime">
                        <label for="needsRealtime">ì‹¤ì‹œê°„ ê¸°ëŠ¥ í•„ìš”</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsCdn">
                        <label for="needsCdn">CDN í•„ìš”</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsAuth">
                        <label for="needsAuth">ì‚¬ìš©ì ì¸ì¦ í•„ìš”</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsMonitoring">
                        <label for="needsMonitoring">ëª¨ë‹ˆí„°ë§ í•„ìš”</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="needsBackup">
                        <label for="needsBackup">ë°±ì—…/ë³µêµ¬ í•„ìš”</label>
                    </div>
                </div>
            </div>

            <!-- ì¶”ê°€ ìš”ì²­ì‚¬í•­ -->
            <div class="form-section">
                <h2>ğŸ“ ì¶”ê°€ ìš”ì²­ì‚¬í•­ (ìì—°ì–´)</h2>
                <div class="form-group">
                    <label for="additionalRequirements">êµ¬ì²´ì ì¸ ìš”êµ¬ì‚¬í•­ì´ë‚˜ íŠ¹ë³„í•œ ê³ ë ¤ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”</label>
                    <textarea id="additionalRequirements" placeholder="ì˜ˆ: í•œêµ­ ì‚¬ìš©ì ëŒ€ìƒì´ë¯€ë¡œ ë‚®ì€ ì§€ì—°ì‹œê°„ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. í–¥í›„ ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ í™•ì¥ì„ ê³ ë ¤í•˜ê³  ìˆìœ¼ë©°, ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•œ ê¸ˆìœµ ê´€ë ¨ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤."></textarea>
                </div>
            </div>

            <button type="submit" class="btn" id="generateBtn">AI í”„ë¡¬í”„íŠ¸ ìƒì„±í•˜ê¸°</button>
        </form>

        <div id="results" class="results">
            <div id="loading" class="loading" style="display: none;">
                <p>AI í”„ë¡¬í”„íŠ¸ë¥¼ ìƒì„± ì¤‘...</p>
            </div>
            
            <div id="promptOutput" style="display: none;">
                <h2>ğŸ¤– ìƒì„±ëœ AI í”„ë¡¬í”„íŠ¸</h2>
                <div class="prompt-output">
                    <pre class="prompt-text" id="promptText"></pre>
                    <button class="copy-btn" onclick="copyPrompt()">í”„ë¡¬í”„íŠ¸ ë³µì‚¬</button>
                </div>
                <p style="margin-top: 15px; color: #666; font-size: 14px;">
                    ğŸ’¡ ì´ í”„ë¡¬í”„íŠ¸ë¥¼ Amazon Bedrockì´ë‚˜ ë‹¤ë¥¸ AI ì„œë¹„ìŠ¤ì— ì…ë ¥í•˜ì—¬ ë§ì¶¤í˜• AWS ì•„í‚¤í…ì²˜ ì¶”ì²œì„ ë°›ìœ¼ì„¸ìš”.
                </p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('promptForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // í¼ ë°ì´í„° ìˆ˜ì§‘
            const formData = {
                project_type: document.getElementById('projectType').value,
                expected_users: parseInt(document.getElementById('expectedUsers').value),
                budget: parseFloat(document.getElementById('budget').value),
                region: document.getElementById('region').value,
                tech_stack: Array.from(document.querySelectorAll('input[name="tech_stack"]:checked')).map(cb => cb.value),
                needs_database: document.getElementById('needsDatabase').checked,
                needs_realtime: document.getElementById('needsRealtime').checked,
                needs_cdn: document.getElementById('needsCdn').checked,
                needs_auth: document.getElementById('needsAuth').checked,
                needs_monitoring: document.getElementById('needsMonitoring').checked,
                needs_backup: document.getElementById('needsBackup').checked,
                additional_requirements: document.getElementById('additionalRequirements').value
            };
            
            // UI ì—…ë°ì´íŠ¸
            document.getElementById('results').style.display = 'block';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('promptOutput').style.display = 'none';
            document.getElementById('generateBtn').disabled = true;
            
            try {
                const response = await fetch('http://localhost:8000/api/generate-prompt', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('promptText').textContent = data.generated_prompt;
                    document.getElementById('promptOutput').style.display = 'block';
                } else {
                    throw new Error('ì„œë²„ ì˜¤ë¥˜');
                }
            } catch (error) {
                alert('í”„ë¡¬í”„íŠ¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('generateBtn').disabled = false;
            }
        });
        
        function copyPrompt() {
            const promptText = document.getElementById('promptText').textContent;
            navigator.clipboard.writeText(promptText).then(() => {
                alert('í”„ë¡¬í”„íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•´ì„œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
            });
        }
    </script>
</body>
</html>